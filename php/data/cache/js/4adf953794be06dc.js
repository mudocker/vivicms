define("util/console-polyfill",[],function(){window.console||(window.console={log:function(){}})}),define("core/unicodeToCh",[],function(){function e(e){return e.replace(/&#\d+;/g,function(e){var t=e.match(/\d+/g);return String.fromCharCode(t)})}return function(t){if("string"!=typeof t&&!(t instanceof Array)&&"[object Object]"!=Object.prototype.toString.call(t))return!1;var i;if(t instanceof Array)t=t.toString(),i=e(t).split(",");else if("[object Object]"==Object.prototype.toString.call(t)){for(var o in t)"string"==typeof t[o]&&(t[o]=e(t[o]));i=t}else i=e(t);return i}}),define("common/convertArticleInfo",["core/unicodeToCh"],function(e){if(ARTICLE_INFO){var t=ARTICLE_INFO.title,i=ARTICLE_INFO.tags,o=ARTICLE_INFO.sosokeys;t&&(ARTICLE_INFO.title=e(t)),i&&(ARTICLE_INFO.tags=e(i)),o&&(ARTICLE_INFO.sosokeys=e(o))}}),define("common/nav",[],function(){var e=document.getElementById("moreNav");e&&($(e).bind("mouseenter",function(e){$(this).addClass("showMore")}),$(e).bind("mouseleave",function(e){$(this).removeClass("showMore")}))}),define("util/boss",[],function(){var e=function(){"undefined"!=typeof BOSS_CONFIG&&BOSS_CONFIG||(BOSS_CONFIG={},!BOSS_CONFIG.exposure&&(BOSS_CONFIG.exposure={}),!BOSS_CONFIG.registerZone&&(BOSS_CONFIG.registerZone={})),this.initExposure(),this.initRegister(),this.exAll()};e.prototype={constructor:e,initExposure:function(){var e=document.cookie.match(new RegExp("(^|)o_cookie=([^;]*)(;|$)"));this.iQQ=(null==e?"":unescape(e[2]))||Math.ceil(1e15*Math.random());var t=escape(location.href),i={BossId:1604,Pwd:0,sOp:"",iQQ:this.iQQ,site:location.host,sBiz:"",sUrl:t};this.exposureData=$.extend(!0,i,BOSS_CONFIG.exposure)},exAll:function(e){var t=$.extend({},this.exposureData,{sOp:"por_all",vertical:window.ARTICLE_INFO&&"2018"===window.ARTICLE_INFO.site?"SJB":"CZTW",ssite:window.ARTICLE_INFO?ARTICLE_INFO.catalog:""});this.operate(t)},initRegister:function(){var e=location.href,t=e.substring(7,e.indexOf(".qq.com"));t=t.substr(t.lastIndexOf(".")+1);var i={BossId:1408,Pwd:0,sOp:"",sBiz:"qq.com",iQQ:this.iQQ,site:t,tmplType:ARTICLE_INFO.type||"",sUrl:"",sLocalUrl:escape(e)};this.registerData=$.extend(!0,i,BOSS_CONFIG.registerZone)},operate:function(e){var t,i=[];for(keys in e){var o=keys+"="+e[keys];i.push(o)}var n=i.join("&"),a="//btrace.qq.com/kvcollect?"+n+"&ran="+Math.random();t=new Image(1,1),t.src=a},exposure:function(e,t){this.exposureData.BossId=e,this.exposureData.sOp=t,this.exposureData.sBiz=arguments[2]||"",this.operate(this.exposureData)},registerZone:function(e,t){var i=4,o="",n="",a="";if(void 0===t){for(var s=window.event||e,r=s.srcElement||s.target;r&&i-- >0&&"A"!=r.tagName&&"BODY"!=r.tagName;)r=r.parentNode;if(!r)return;if("A"!=r.tagName)return;o=r.href;for(var c=9,l=r;c>=0&&l;c--,l=l.parentNode){if(l&&l.attributes.bosszone){n=l.attributes.bosszone.nodeValue,a=l.attributes.articleType&&l.attributes.articleType.nodeValue;break}if(l&&"BODY"==l.tagName)return}if(!n)return}else e.bossId&&(this.registerData.BossId=e.bossId),n=e.bossZone,o=e.url||"";a&&(this.registerData.articleType=a),this.registerData.sOp=n,this.registerData.sUrl=escape(o),this.operate(this.registerData)}};var t=new e;window.BOSS2=t;var i=function(){t.registerZone()};return document.addEventListener?document.addEventListener("click",i,!1):document.attachEvent?document.attachEvent("onclick",i):document.onclick=i,{registerZone:function(e,i){t.registerZone.call(t,e,i)},exposure:function(e,i,o){t.exposure.call(t,e,i,o)},operate:t.operate}}),define("common/weather",["../util/boss"],function(e){require(["//mat1.gtimg.com/pingjs/ext2020/test2017/dist/miniWeather.js"],function(){$(".qq_navTool").append('<div id="ct-mini-weather" class="ct-mini-weather"></div>');var t=function(){for(var e={},t=location.search.substring(1),i=t.split("&"),o=0;o<i.length;o++){var n=i[o].indexOf("=");if(-1!=n){var a=i[o].substring(0,n),s=i[o].substring(n+1);s=decodeURIComponent(s),e[a]=s}}return e}(),i={province:t.province||"",city:t.city||"",district:t.district||""};t.debug&&console.log(i),$("#ct-mini-weather").miniWeather(i).on("click",function(){e.operate({BossId:5199,Pwd:451708158,ref:"dcy"})})})}),define("common/subNav",[],function(){var e=document.getElementById("navList");e&&function(){var t=window.ARTICLE_INFO.subName,i=t.cname||"";if(i){var o=!1,n=$("a",e),a=n.length||0;if(!o&&a)for(var s=0;s<a;s++){var r=$(n[s]),c=r.text();if(-1!=i.indexOf(c))return r.addClass("cur"),void(o=!0)}var l='<a href="'+t.url+'" target="_blank" class="cur">'+i+"</a>";$(e).append(l)}}()}),define("common/soSearch",["../util/boss","core/unicodeToCh"],function(e,t){if("undefined"!=typeof sosoArticlKey&&"(none)"!=sosoArticlKey){var i=document.getElementById("sosoArticlKey");if(i){sosoArticlKey=t(sosoArticlKey.replace(/&amp;/g,"&")),i.value=sosoArticlKey;var o=i.value;document.getElementById("soSubmit").onclick=function(t){e.registerZone({bossZone:"sosearch",url:""},1)},i.onfocus=function(){i.value==o&&(i.value="")},i.onblur=function(){""==i.value&&(i.value=o)}}}}),define("core/getSection",[],function(){return{getSection:function(){var e="";return e=document.selection?document.selection.createRange().text:document.getSelection(),e.toString()}}}),define("core/getPosition",[],function(){return function(e,t){var t=t||$("body");return{x:e.clientX-t.offset().left+document.body.scrollLeft+document.documentElement.scrollLeft,y:e.clientY-t.offset().top+document.body.scrollTop+document.documentElement.scrollTop}}}),define("util/zonedWord",["../core/getSection","../core/getPosition"],function(e,t){function i(i,o,n){if(i){"string"==typeof i&&(i=$("#"+i)),o=$.extend(!0,{id:"tips",lens:[2,9],tipHtml:'<a href="#" target="_blank">tips</div>'},o);var a=!1;i.bind("mouseup",function(s){var r=e.getSection(),c=r.length;if(!(c<=0)){var l=o.lens[0]||1,d=o.lens[1]||c;if(c>=l&&c<=d){if(!a){var u='<div style="display:none" id="'+o.id+'"></div>';i.append(u),$("#"+o.id).html(o.tipHtml),a=$("#"+o.id)}var h=t(s,i);a.css({left:h.x+5,top:h.y}).show(),n&&n(a,r)}}}),$(document,"body").bind("mousedown",function(){a&&a.hide()})}}return i}),define("common/zonedSearch",["require","../util/zonedWord","../util/boss"],function(e){var t=e("../util/zonedWord"),i=e("../util/boss"),o=$("#Cnt-Main-Article-QQ"),n={id:"sogouTips",tipHtml:'<a href="#" bosszone="floatsearch" target="_blank">搜索</a>'},a=!0;t(o,n,function(e,t){t="，"==t?"%A3%AC":encodeURIComponent(t);var o="http://www.sogou.com/tx?hdq=sogou-wsse-b58ac8403eb9cf17-3001&query="+t;$("a",e).attr("href",o),i.exposure(1604,"Exfloatsearch","sogou"),a&&(a=!1,e&&(e.bind("mousedown",function(e){return!1}),e.bind("mouseup",function(e){return!1})))})}),define("core/cookie",[],function(){return{setItem:function(e,t,i,o){var n=e+"="+t;if(i){var a=new Date;a.setTime(a.getTime()+6e4*i),n+="; expires="+a.toUTCString()}n+="; path=/",o&&(n+="; domain="+o),document.cookie=n},getItem:function(e){if(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));if(null!==t)return unescape(t[2])}},removeItem:function(e,t){this.setItem(e,"",-1,t)}}}),define("util/bossIRS",[],function(){function e(e){var t=document.cookie.match(new RegExp("(^|)"+e+"=([^;]*)(;|$)"));return(null==t?"":unescape(t[2]))||""}function t(){this.obj={BossId:"4909",Pwd:"343755834",PAC_uid:i,currentUrlAdd:encodeURIComponent(location.href)||"",site:encodeURIComponent(location.hostname)||"",iqq:o},this.sTime=(new Date).getTime(),this.eTime=0,this.init()}var i=e("pac_uid"),o=e("o_cookie");t.prototype={init:function(){var e=this;this.operate(this.obj),window.onunload=function(){e.unLoadhandle()}},operate:function(e){var t,i=[];for(keys in e){var o=keys+"="+e[keys];i.push(o)}var n=i.join("&"),a="//btrace.qq.com/kvcollect?"+n+"&ran="+Math.random();t=new Image(1,1),t.src=a},moduleExposure:function(e){var t={};this.obj.targetUrlAdd&&(this.obj.targetUrlAdd=encodeURIComponent(this.obj.targetUrlAdd)),"string"==typeof e?t=$.extend({},this.obj,{sOp:e}):"object"==typeof e&&(t=$.extend({},this.obj,e)),this.operate(t)},userDuration:function(e){$.extend(this.obj,{usrtime:e}),this.operate(this.obj)},unLoadhandle:function(){this.eTime=(new Date).getTime();var e=Math.ceil((this.eTime-this.sTime)/1e3);this.userDuration(e)}};var n=new t;return{rq:function(e){n.moduleExposure.call(n,e)}}}),define("common/ilike",["../core/cookie","../util/bossIRS"],function(e,t){$(".a_ilike").on("click",function(i){var o=$(this),n=ARTICLE_INFO,a=o.attr("bosszone")||o.attr("bossZone")||"";t.rq(a),e.getItem("skey")?$.ajax({url:"//i.match.qq.com/keep/a/",data:{url:n.article_url,ty:2,pa:n.title+(new Date).getTime(),fr:"腾讯"+n.site_cname},dataType:"jsonp",success:function(e){0==e.code&&(o.append('<div class="tips"><div class="tips-inner"><span>收藏成功</span><a href="http://ilike.qq.com" target="_blank">查看我的收藏&gt;&gt;</a></div></div>'),o.on("mouseleave",function(){o.find(".tips").remove()}))}}):userLogin()})}),define("common/endIcon",[],function(){var e=document.getElementById("Cnt-Main-Article-QQ");if(e){var t=$(e).children().last();if("p"==t[0].tagName.toLowerCase()&&$.trim($(t[0]).text()).length>15){$(t).append('<a bosszone="backqqcom" href="http://www.qq.com/?pref=article" target="_blank" title="点击进入腾讯首页" id="backqqcom" style="white-space: nowrap;"><img src="//mat1.gtimg.com/pingjs/ext2020/dc/src/img/favicon.ico" width="16" height="16"><span style="padding-left: 5px; font-size: 14px;">返回腾讯网首页&gt;&gt;</span></a>')}}}),define("util/exposure",["../util/boss"],function(e){function t(t,i){for(var o=[],n=$(window).height(),a=0;a<t.length;a++){var s=t[a].obj;if(s.is(":visible")){s.offset().top<n?(e.exposure(3175,t[a].name),s.isExposure=!0):o.push(t[a])}else o.push(t[a])}return o}function i(t,i){var o=$(window).height();$(document).bind("scroll",function(n){var a=$(document).scrollTop(),s=t.obj;if(0==s.length)return!1;if(!s.isExposure&&!s.is(":hidden")&&"undefined"!=s.offset()){var r=s.offset().top,c=s.height(),l=r-a;-c<l&&l<o&&(e.exposure(i,t.name),s.isExposure=!0)}})}return{firstScreen:t,scroll:i}}),define("core/corsRequest",[],function(){return function(e,t){!t&&(t={}),t.type=t.type||"GET",t.IEXD=t.IEXD||!1;var i=function(e,i){var o=new XMLHttpRequest;return"withCredentials"in o?(o.open(e,i,!0),"POST"==t.type&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):t.IEXD&&"undefined"!=typeof XDomainRequest?(o=new XDomainRequest,o.open(e,i)):o=null,o}(t.type,e);if(!i)return!1;t.onprogress&&(i.onprogress=function(){t.onprogress(i)}),t.onload&&(i.onload=function(){t.onload(i)}),t.ontimeout&&(i.ontimeout=function(){t.ontimeout(i)}),t.onerror&&(i.onerror=function(){t.onerror(i)});var o=!1;if(t&&t.data){var n=[];for(var a in t.data){var s=a+"="+t.data[a];n.push(s)}o=n.join("&")}return o?i.send(o):i.send(),i}}),define("common/relatedSearch",["../util/boss","../util/exposure","../core/cookie","../core/corsRequest"],function(e,t,i,o){function n(e){return}return $(window).load(function(){ARTICLE_INFO}),{getSearch:n}}),define("util/share",[],function(){function e(e){var t=[];return $("#Cnt-Main-Article-QQ img").each(function(e,i){var e=$(this);e.width()>150&&e.height()>150&&t.push(e.attr("src"))}),encodeURIComponent(t.join(e))}var t=ARTICLE_INFO.title,i=ARTICLE_INFO.article_url,o="height=540,width=720, top = "+(window.screen.height-540)/2+", left = "+(window.screen.width-720)/2+", toolbar=no,menubar=no,resizable=yes,location=yes,status=no",n=e("|"),a=function(){var n=i,a=t,s="",r=e("||");s="http://service.weibo.com/share/share.php?url="+encodeURIComponent(n)+"&appkey=&title="+a+"&pic="+r+"&ralateUid=&language=&searchPic="+!1,window.open(s,"shareQQ",o)},s=function(){var e="http://www.linkedin.com/shareArticle?mini=true&ro=true&title="+encodeURIComponent(t)+"&url="+encodeURIComponent(i)+"&summary=&source=&armin=armin";window.open(e,"shareLinkedIn",o)},r=function(){var e="http://connect.qq.com/widget/shareqq/index.html?url="+encodeURIComponent(i)+"&showcount=0&desc="+encodeURIComponent(t)+"&summary=&title="+encodeURIComponent(t)+"&pics=&style=203&width=19&height=22";window.open(e,"shareQQ",o)},c=function(e){var a=t,s=i,r="",c=n?"&pics="+n:"";r="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=qzone&url="+encodeURIComponent(s)+"&title="+encodeURIComponent(a)+c+"&summary="+encodeURIComponent(""),window.open(r,"shareQzone",o)},l=function(){var e=t,a=i,s=encodeURI("3eef3dc2a3254c5cb5b2506bc8f9765f"),r="",c=n?"&pic="+n:"";r="http://share.v.t.qq.com/index.php?c=share&a=index&f=q2&url="+encodeURIComponent(a)+"&appkey="+s+"&assname=&title="+e+c,window.open(r,"shareWeibo",o)},d={};return{shareTOsina:a,shareTOqq:r,shareTOqzone:c,shareTOqqweibo:l,getQrcode:function(e,t){if(!d[t]){var i=function(){new QRCode(document.getElementById(t),{text:e,width:85,height:85})};window.QRCode?i():$.getScript("//mat1.gtimg.com/pingjs/ext2020/dc2017/publicMedia/js/qrcode.js").done(function(){i()}),d[t]=1}},shareToLinkedIn:s}}),define("common/share",["../util/share","../util/boss"],function(e,t){var i=function(){$("#shareBtn").bind("mouseenter",o.shareEnter),$("#shareBtn").bind("mouseleave",o.shareLeave);var e=["shareTweibo","shareQzone","shareQQ","shareSina","shareWeixin","shareLinkedIn"];$("#shareWx").bind("mouseenter",o.shareWxEnter),$("#shareWx").bind("mouseleave",o.shareWxLeave),$(document).bind("click",o.docClick);for(var t=0;t<e.length;t++)$('[data-node="'+e[t]+'"]').bind("click",o[e[t]]);$(document).on("click","#t_weibo",o.shareTweibo)},o={shareEnter:function(e){$(this).addClass("showItem")},shareLeave:function(e){$(this).removeClass("showItem")},shareTweibo:function(t){e.shareTOqqweibo()},shareQzone:function(t){e.shareTOqzone()},shareQQ:function(t){e.shareTOqq()},shareSina:function(t){e.shareTOsina()},shareWeixin:function(t){return e.getQrcode(location.href,"ewmimg"),$("#wemcn").show(),!1},docClick:function(e){$("#wemcn").hide()},shareWxEnter:function(i){var o=this;e.getQrcode(location.href,"upshareqrcode"),$(".ewmBox",o).show(),t.registerZone({bossZone:"msWx"},1)},shareWxLeave:function(e){$(".ewmBox",this).hide()},shareLinkedIn:function(t){e.shareToLinkedIn(t)}};!function(){i()}()}),define("common/comment",[],function(){if("undefined"!=typeof cmt_id){try{document.domain="qq.com"}catch(e){}var e=function(){var e=document.cookie.match(new RegExp("(^|)uin=([^;]*)(;|$)"));return e?e[2]:null},t={};if(window.registerCoralEvent=$.extend({code:1,listHiden:-1==ARTICLE_INFO.site.search(/news|finance|view/)?0:1,commentNums:3,commentHotNums:0,loginEvent:function(){window.userLogin?userLogin():window.sportsWebApi&&sportsWebApi.userLogin()},publicLogined:function(i,o,n,a){if(a)return $(".qq_comment").prepend('<div class="wxcommenttips" style="line-height:2;"> 评论暂不支持微信登录。如需评论请使用qq登录</div>');var s=document.getElementById("commentIframe"),i=i||e();t={uin:i,nick:o,headUrl:n},"function"==typeof s.contentWindow.publicLogined&&document.getElementById("commentIframe").contentWindow.publicLogined(i,o,n)},publicLogout:function(){$(".wxcommenttips").remove(),"function"==typeof document.getElementById("commentIframe").contentWindow.publicLogined&&document.getElementById("commentIframe").contentWindow.publicLogout()}},commentData),cmt_id>1e9){var i="//coral.qq.com/article/"+cmt_id+"/commentnum?callback=_cbSum&source=1&t="+Math.random();$.ajax({url:i,dataType:"jsonp",jsonpCallback:"comment",success:function(e){if(0==e.errCode){var t=e.data.commentnum;registerCoralEvent.getCmtNumBack?registerCoralEvent.getCmtNumBack(t):($("#cmtLink").attr("href","http://coral.qq.com/"+cmt_id),$("#cmtNum").text(t),$("#cmtNum2").text(t))}}})}var o=!0,n=function(){$("#commentIframe").attr("src","//page.coral.qq.com/coralpage/comment/news.html").show(),$("#commentIframe").load(function(e){window.userInfo?registerCoralEvent.publicLogined(window.userInfo.uin,window.userInfo.nick,window.userInfo.Face):t.uin&&t.nick&&registerCoralEvent.publicLogined(t.uin,t.nick,t.headUrl)}),o=!1},a=$("#commentIframe").position().top,s=$(window).height();a<s?n():$(window).bind("scroll",function(){$(this).scrollTop()+s+500>a&&o&&(n(),$(window).unbind("scroll",arguments.callee))})}}),define("common/scroll",[],function(){({dom:$("#goTop"),top:100,speed:1e3,showBackDom:function(){$(window).scrollTop()>this.top?this.dom.fadeIn(this.speed):this.dom.fadeOut(this.speed)},bindEvent:function(){var e=this;$(window).scroll(function(){e.throttle(e.showBackDom,e)}),this.dom.on("click",function(){$("body,html").animate({scrollTop:0},e.speed)})},throttle:function(e,t){e.timerId&&clearTimeout(e.timerId),e.timerId=setTimeout(function(){e.call(t)},500)},init:function(){this.showBackDom(),this.bindEvent()}}).init()}),define("common/mercury",["//mat1.gtimg.com/pingjs/ext2020/dc2017/dist/m_tips/tips.js"],function(){require("//mat1.gtimg.com/pingjs/ext2020/dc2017/dist/m_tips/tips.js")}),define("common/addArticleLogo",[],function(){!function(){var e=$(".qq_toolWrap"),t="";$.ajax({url:"//pacaio.match.qq.com/pc/yc?id="+ARTICLE_INFO.id,dataType:"jsonp"}).done(function(i){0===i.code&&(t='<div className="article-logo" style="border:1px solid #efefef;border-left: none;border-right: none;background-color: #fcfcfc;padding:20px 0;text-align: center;margin:0 0 50px;"><img src="//mat1.gtimg.com/pingjs/ext2020/dcom/article_logo.png" alt="腾讯新闻-出品" /></div>'),0!==e.length&&e.after(t)})}()}),define("public/nolink",[],function(){$("#Cnt-Main-Article-QQ a").each(function(e){var t=$(this).text();($(this).hasClass("a-tips-Article-QQ")||$(this).hasClass("nameStarQQ"))&&$(this).replaceWith(t)})}),define("common/visualFocus",["../util/boss"],function(e){function t(){var t=i.attr("data-xinghai");if(!t)return i.show(),!1;$.ajax("//i.match.qq.com/xinghai?channel_id="+t,{dataType:"jsonp"}).done(function(t){if(0==t.code&&t.data){for(var o=0;o<t.data.length;o++){var n=t.data[o],a=n.img.replace(/^http[s]*:/,""),s=['<li><a href="'+n.url+'" target="_blank" bosszone="rightPic_qudao'+(o+1)+'" articleType="xh_flag">','<span class="pic"><img src="'+a+'" alt="'+n.title+'"></span>',"<span>"+n.title+"</span>","</a></li>"].join(""),r=0|n.position;i.find("ul li").eq(r).replaceWith(s)}t.data.length>0&&e.exposure(1604,"rightPic_qudaopor","")}i.show()}).fail(function(){i.show()})}var i=$("#visualFocus");!function(){if(0===i.length)return!1;var o=i.attr("data-site")||ARTICLE_INFO.site;$.ajax("//pacaio.match.qq.com/irs/rcd?cid=34&token=28ee4a6384be912a836147a4d57f987f&num=20&ext="+o,{dataType:"jsonp"}).done(function(o){if(0==o.code&&o.data){for(var n=o.data,a=[],s=n.length,r=0,c=0;c<s;c++)if(n[c].img){if(r>=4)break;var l=n[c].img.replace(/^http[s]*:/,""),d=['<li><a href="'+n[c].vurl+'" target="_blank" bosszone="rightPic_'+(c+1)+'">','<span class="pic"><img width="100%" src="'+l+'" alt="'+n[c].title+'"></span>',"<span>"+n[c].title+"</span>","</a></li>"].join("");a.push(d),r++}i.find(".bd").html('<ul class="clearfix">'+a.join("")+"</ul>"),e.exposure(1604,"rightPic",""),t()}})}()}),requirejs.config({baseUrl:"js"}),requirejs(["util/console-polyfill","common/convertArticleInfo","common/nav","common/weather","common/subNav","common/soSearch","common/zonedSearch","common/ilike","common/endIcon","common/relatedSearch","common/share","common/comment","common/scroll","common/mercury","common/addArticleLogo","public/nolink","common/visualFocus"]),define("common",function(){}),define("core/stringToJson",[],function(){return function(e){if(e){for(var t=e.split("&"),i={},o=0;o<t.length;o++){var n=t[o].split("=");i[n[0]]=n[1]}return i}}}),define("core/buildDom",[],function(){return function(e){for(var t=$("[data-node]",e),i={},o=0,n=t.length;o<n;o++){var a=$(t[o]).attr("data-node");!i[a]&&(i[a]=[]),i[a].push(t[o])}return i}}),define("common/zhibotai",["require","../core/stringToJson","../util/boss","../core/cookie","../core/buildDom"],function(e){function t(e,t,i){this._idTxt=e,this._id=$("#"+this._idTxt),this._nodeId=t,this._num=i&&i.num||21,this._otherMod=i&&i.otherMod||"",this._otherMod&&(!this.other&&(this.other={}),this.other.id=$("#"+this._otherMod),this.other.tit=i&&i.otherTit||"",this.other.c=i&&i.otherClass||""),this._curPostion=0,this.init()}var i=e("../core/stringToJson"),o=e("../util/boss"),n=e("../core/cookie"),a=e("../core/buildDom");return t.prototype={constructor:t,liveData:{},playerInfo:{},setPlayingSign:function(e,t){window.dc_playing_sign||(window.dc_playing_sign={}),window.dc_playing_sign[e]=t},isAnyVideoPlaying:function(){if(window.dc_playing_sign)for(var e in window.dc_playing_sign)if(window.dc_playing_sign.hasOwnProperty(e)&&window.dc_playing_sign[e])return!0;return!1},initAjax:function(e){var t=this;$.ajax({url:e,data:{node_id:this._nodeId,number:this._num},dataType:"jsonp",jsonpCallback:"tvStationBack",success:function(e){if(e.response&&0===e.response.code){var i=e.data,o=i.lives;o&&o.length>0&&t.operate(o)}}})},creatPlayer:function(e,t){var i=this;window.liveClickSwitch=function(e){e&&("stop"==e.code?(i.setPlayingSign("liveVideo",!1),o.registerZone({bossZone:"zbttzicon"},1)):"play"==e.code&&(i.setPlayingSign("liveVideo",!0),$(window).trigger("video:pause","liveVideo"),o.registerZone({bossZone:"zbtbficon"},1),console.log("zhibo2:tell rel_video need to pause")))},i.playerInfo.video=new tvp.VideoInfo,i.playerInfo.video.setChannelId(e),i.playerInfo.player=new tvp.Player,i.playerInfo.player.create({width:400,height:300,type:1,video:i.playerInfo.video,modId:"liveVideo",autoplay:t,flashWmode:"transparent",liveFlashExtVars:{skin:"skins/TencentPlayerLiveMiniSkinV4.swf",pic:"//imgcache.qq.com/minivideo_v1/vd/res/skins/qqlive_logo_small.swf",funClickObj:"liveClickSwitch"},onwrite:function(){/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||(this.resize(300,190),$("#liveVideo").css("visibility","visible"))},onplay:function(e){if(this.resize(300,190),$("#liveVideo").css("visibility","visible"),t){var o=i.playerInfo.player.getPlayer();o&&o.setVolume&&o.setVolume(0),$(window).trigger("video:pause","liveVideo"),console.log("zhibo:play")}$(window).on("video:pause",function(e,t){"liveVideo"!=t&&(i.playerInfo.player.getPlayer().stopVideo(),i.setPlayingSign("liveVideo",!1),console.log("trigger:zhibo_stop"))})}})},buildLive:function(e){var t=!0,i=n.getItem("dc_live_closeAuto"),a=n.getItem("dc_live_played");"1"==i||"1"==a?(t=!1,this.setPlayingSign("liveVideo",!1)):(this.setPlayingSign("liveVideo",!0),n.setItem("dc_live_played","1",1440,"qq.com")),this.creatPlayer(e,t),o.exposure(1604,"szbtbfk","zhibotai")},buildHtml:function(e,t){for(var i=[],o=!1,n=0;n<t;n++)if(2!=e[n].playing_status){!o&&1==e[n].playing_status&&e[n].stream_id&&(this._curPostion=n+1,o=!0);var a,s,r=e[n].match;s=1==e[n].playing_status?'<span class="col4 playing">直播中</span>':'<span class="col4">'+e[n].start_time.substring(5,10)+"<br/>"+e[n].start_time.substring(10,16)+"</span>",a=r&&r.homeName&&r.awayName?['<div class="match clearfix">','<span class="col1">'+r.awayName+"</span>",'<span class="col2">',1==e[n].playing_status?r.awayGoal+"-"+r.homeGoal:"—","</span>",'<span class="col3">'+r.homeName+"</span>",s,"</div>"].join(""):['<div class="info">',"<p>"+e[n].title+"</p>",s,"</div>"].join("");var c=["<li ",1==e[n].playing_status?'data-node="item" data-data="pos='+n+'"':"",this._curPostion==n+1?'class="cur"':"","><strong>",e[n].catalog_name,"</strong>",a,3==e[n].playing_status?'<a class="linkZB" target="_blank" href="'+e[n].shared.pc_url+'"></a>':"","</li>"].join("");i.push(c),!this.liveData.pureData&&(this.liveData.pureData=[]),this.liveData.pureData.push({pos:n,vid:String(e[n].stream_id),url:e[n].shared.pc_url})}return i.join("")},tabSwitch:function(e,t,i){$(e).addClass("cur"),$(t).removeClass("cur");var o=this.liveData.nodes.tvStation;i?(this.other.id.hide(),$(o).show()):($(o).hide(),this.other.id.show())},initList:function(e){!this.listSwitch&&(this.listSwitch={}),this.listSwitch.cur=0,this.listSwitch.average=7,this.listSwitch.count=Math.ceil(e/this.listSwitch.average),$(this.liveData.nodes.slide[0]).hide(),e<=this.listSwitch.average&&$(this.liveData.nodes.slide[1]).hide(),$(this.liveData.nodes.slide).bind("click",this,this.listSlide)},listSlide:function(e){var t=e.data,n=i($(this).attr("data-data")),a=parseInt(n.idx);(a>0&&t.listSwitch.cur>0||a<0&&t.listSwitch.cur<t.listSwitch.count-1)&&(t.listSwitch.cur-=a,$(t.liveData.nodes.list).animate({marginTop:"+="+35*a*t.listSwitch.average+"px"},1e3),$(t.liveData.nodes.slide).show(),(t.listSwitch.cur<=0||t.listSwitch.cur>=t.listSwitch.count-1)&&$(this).hide());var s=a>0?"zbtlistprev":"zbtlistnext";o.registerZone({bossZone:s},1)},bind:function(){var e=this;$(e.liveData.nodes.autoPlay).bind("click",function(e){"1"==n.getItem("dc_live_closeAuto")?($(this).removeClass("close"),n.removeItem("dc_live_closeAuto","qq.com"),o.registerZone({bossZone:"zbtplayopen"},1)):($(this).addClass("close"),n.setItem("dc_live_closeAuto","1",10080,"qq.com"),o.registerZone({bossZone:"zbtplayclose"},1))}),$(e.liveData.nodes.mainTit).bind("click",e.liveData.nodes.zhiboTit,function(t){if(!$(this).hasClass("cur")){var i=t.data;e.tabSwitch(this,i,!1),o.registerZone({bossZone:"zcmkturnon"},1)}}),$(e.liveData.nodes.zhiboTit).bind("click",e.liveData.nodes.mainTit,function(t){if(!$(this).hasClass("cur")){var i=t.data;e.tabSwitch(this,i,!0),o.registerZone({bossZone:"zbtturnon"},1)}}),e.liveData.nodes.item&&$(e.liveData.nodes.item).bind("click",function(t){if(!$(this).hasClass("cur")){var n=i($(this).attr("data-data")),a=parseInt(n.pos);$(e.liveData.nodes.item).removeClass("cur"),$(this).addClass("cur"),$(e.liveData.nodes.go).attr("href",e.liveData.pureData[a].url),e.playerInfo.video.setChannelId(e.liveData.pureData[a].vid);e.liveData.pureData[a].vid;e.playerInfo.player.play(e.playerInfo.video),$(window).trigger("video:pause","liveVideo"),console.log("zhibo:tell rel_video need to pause"),e._curPostion=a+1,o.registerZone({bossZone:"zbtlisttitle"},1)}}),$(e.liveData.nodes.playBox).bind("mouseenter",function(t){$(e.liveData.nodes.go).fadeIn(),o.exposure(1604,"szbtbfkenter","zhibotai")}),$(e.liveData.nodes.playBox).bind("mouseleave",function(t){$(e.liveData.nodes.go).fadeOut()}),$(e.liveData.nodes.go).click(function(e){o.registerZone({bossZone:"zbtbfkenter"},1)})},operate:function(e){var t=e.length,i=this.buildHtml(e,t);if(this._curPostion||!(t<5)){this._otherMod&&($(this.other.id).hide(),this.other.tit&&$(this.liveData.nodes.mainTit).html("<h2>"+this.other.tit+"</h2>"),$(this.liveData.nodes.mainTit).show(),this.other.c&&this.other.id.addClass(this.other.c)),$(this.liveData.nodes.list).html(i),this.liveData.nodes=a(this._id);var o=this.liveData.nodes.tvStation;"1"==n.getItem("dc_live_closeAuto")&&$(this.liveData.nodes.autoPlay).addClass("close"),this._curPostion?(this.buildLive(this.liveData.pureData[this._curPostion-1].vid),$(o).addClass("veryTv").show(),$(this.liveData.nodes.zhiboTit).addClass("cur"),$(this.liveData.nodes.playBox).show(),$(this.liveData.nodes.go).attr("href",this.liveData.pureData[this._curPostion-1].url)):t>=5&&(this._otherMod&&($(this.liveData.nodes.tvStation).hide(),$(this.liveData.nodes.mainTit).addClass("cur"),this.other.id.show()),this.initList(t)),this._id.show(),this.bind()}},init:function(){if(!document.getElementById(this._idTxt))return!1;this.liveData.nodes=a(this._id);this.initAjax("//data.v.qq.com/live/v2/api/live/nodelives?scope=news_detail&reqsrc=news_detail")}},t}),define("common/sportsLogin",["//mat1.gtimg.com/pingjs/ext2020/dc2017/dist/sportInfo/sportLogin.js"],function(){}),define("common/lastAdFixed",[],function(){function e(e){var t=document.getElementById(e);if(t){var i=$(t),o=($("body").height(),!1),n=0,a=i.offset().top,s=!1;$(window).on("load",function(){$(document).bind("scroll",function(e){var t=$(this).scrollTop();a==i.offset().top||s?(s=!0,o?t>=n?i.css({position:"fixed",top:"0"}):i.css({position:"static"}):t>=a&&(n=a,o=!0,i.css({position:"fixed",top:"0"}))):a=i.offset().top})})}}return e}),define("sports_isocce/hotVideo",[],function(){var e=document.getElementById("hotVideo");if(e){var t=function(e){return e&&e.indexOf("v.qq.com/x/")?e.replace(/http[s]*:\/\/v\.qq\.com\/x\/(.*)\.html/,"//v.sports.qq.com/#/$1"):e},i={buildHtml:function(e){for(var i=e.length<=4?e.length:4,o=[],n=0;n<i;n++){var a=e[n].fields,s=t(a.url),r=a.pic_332_187;r=r?r.replace(/^http[s]*:/,""):"";var c=['<li bosszone="vnews'+(n+1)+'">','<a target="_blank" class="pic" href="'+s+'">','<img src="'+r+'" alt="'+a.title+'">',"<em><i></i></em></a>",'<a target="_blank" class="txt" href="'+s+'">',a.title,"</a>","</li>"].join("");o.push(c)}return o.join("")}};$.getScript("//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_vid_list&tid=674&uappid=20001257&uappkey=86ff0af73276ade8&type=4&sourcetype=2&pagesize=24&offset=0&sort=3&c_column_id=30990&novalue=1").done(function(){if(window.QZOutputJson&&0==QZOutputJson.ret){var t=QZOutputJson.jsonvalue.results,o=i.buildHtml(t);$('[data-node="list"]',e).html(o),$(e).show()}})}}),define("sports_isocce/ranking",["../util/boss"],function(e){var t=document.getElementById("ranking");if(t){var i=pre=0,o={},n={buildHtml:function(e,t){for(var o=ARTICLE_INFO.sub_nav,n=e.length<=4?e.length:4,a=[],s=[],r=0;r<n;r++){t[o]&&t[o].txt==e[r].teamName&&(i=pre=r);var c=['<li data-data="',r,'">',e[r].teamName,"<em></em></li>"].join("");a.push(c);for(var l=e[r].data,d=l.length<=5?l.length:5,u=['<div class="item" data-node="item"><table><tr><th class="mc">名次</th><th class="qd">球队</th><th class="sfp">胜/平/负</th><th class="jf">积分</th></tr>'],h=0;h<d;h++){var m=0==h?' class="first"':"",p=h<3?' class="top"':"",f=["<tr"+m+">","<td><span"+p+">"+(h+1)+"</span></td>","<td>",'<a href="'+l[h].teamUrl+'" target="_blank">',0==h?'<img src="'+l[h].badge.replace(/^http[s]*:/,"")+'"><br/>':"",l[h].name,"</a>","</td>","<td>"+l[h].winMatchCount+"/"+l[h].planishMatchCount+"/"+l[h].lostMatchCount+"</td>","<td>"+l[h].score+"</td>","</tr>"].join("");u.push(f)}u.push('<tr class="last"><td colspan="4"><a href="'+e[r].allUrl+'" target="_blank" class="go" bosszone="jifenmore">查看全部<em>></em></a></td></tr></table></div>'),s.push(u.join(""))}return{title:a.join(""),content:s.join("")}}},a=function(){o.tit.bind("click",function(t){$(this).hasClass("cur")||(i=parseInt($(this).attr("data-data")),$(o.tit[pre]).removeClass("cur"),$(this).addClass("cur"),$(o.con[pre]).hide(),$(o.con[i]).show(),pre=i,e.registerZone({bossZone:"jifentab"},1))})};return{init:function(e){$.ajax({url:"//i.match.qq.com/pac/iscore?fun=scoreboard&format=jsonp",dataType:"jsonp",success:function(s){if(0==s.code){var r=s.data,c=n.buildHtml(r,e);$('[data-node="tit"]',t).html(c.title),$('[data-node="con"]',t).html(c.content),o={tit:$('[data-node="tit"] li',t),con:$('[data-node="item"]',t)},$(o.tit[i]).addClass("cur"),$(o.con[i]).show(),$(t).show(),a()}}})}}}}),define("sports_isocce/schedule",["../util/boss"],function(e){var t=document.getElementById("schedule");if(t){var i=prePos=0,o={buildHtml:function(e){i=prePos=e.cur;for(var t=e.date,o=e.data,n=t.length<3?t.length:3,a=[],s=[],r=0;r<n;r++){var c=['<li data-data="',r,'"',r==i?' class="cur"':"",">",t[r],"<em></em></li>"].join("");a.push(c);for(var l=o[r],d=l.length<=5?l.length:5,u=['<div data-node="item" class="item"',r==i?' style="display:block"':"","><ul>"],h=0;h<d;h++){var m="";1==l[h].competitionStatus?m='<span class="col2"><i>未开始</i><br/>'+l[h].startTime.substring(11)+"</span>":2==l[h].competitionStatus?m='<span class="col2"><i>'+l[h].homeGoal+":"+l[h].awayGoal+"</i><br/>视频回放</span>":3==l[h].competitionStatus&&(m='<span class="col2"><i class="over">已结束</i><br/>视频回放</span>');var p=['<li><a href="'+l[h].videoUrl+'" class="clearfix" target="_blank">','<span class="col1"><i class="team"><img src="'+l[h].homeBadge.replace(/^http[s]*:/,"")+'"></i><i>'+l[h].homeName+"</i></span>",m,'<span class="col3"><i class="team"><img src="'+l[h].awayBadge.replace(/^http[s]*:/,"")+'"></i><i>'+l[h].awayName+"</i></span>","</a></li>"].join("");u.push(p)}u.push('</ul><a href="http://sports.qq.com/kbsweb/" target="_blank" class="go" bosszone="saichengmore">更多赛程<em>&gt;</em></a></div>'),s.push(u.join(""))}return{title:a.join(""),content:s.join("")}}},n=function(){var o=$('[data-node="tit"] li',t),n=$('[data-node="item"]',t)
;o.bind("click",function(t){$(this).hasClass("cur")||(i=parseInt($(this).attr("data-data")),$(o[prePos]).removeClass("cur"),$(this).addClass("cur"),$(n[prePos]).hide(),$(n[i]).show(),prePos=i,e.registerZone({bossZone:"saichengtab"},1))})};!function(){$.ajax({url:"//i.match.qq.com/pac/iscore?fun=race&format=jsonp",dataType:"jsonp",success:function(e){if(0==e.code){var i=e.data,a=o.buildHtml(i);$('[data-node="tit"]',t).html(a.title),$('[data-node="con"]',t).html(a.content),$(t).show(),n()}}})}()}}),define("public/leftList",["../util/bossIRS"],function(e){return function(t,i){$.ajax({url:"//pacaio.match.qq.com/pc/hotNews",data:{num:7,site:t},dataType:"jsonp"}).done(function(e){var t={data:e},o="";0==e.code&&$.each(e.data,function(e,t){t.title&&t.url&&(o+='<li><a class="left-list-pac" data-n="'+(e+1)+'" href="'+t.url+'" target="_blank" title="'+t.title+'">'+t.title+"</a></li>")}),t.html=o,i(t)}),$(document).on("click",".left-list-pac",function(t){var i=$(this).attr("data-n"),o=$(this).attr("href");i&&e.rq({sOp:"jxnrInfor"+i,targetUrlAdd:o})})}}),define("public/fixed",[],function(){return function(e){$(window).load(function(){var e=e||$("#leftSide"),t=e.height(),i=e.offset().top;$(window).scroll(function(){var o=$(".qq_tuijian"),n=$(this).scrollTop();if(n<=i&&e.css({position:"static",top:i}),n>i&&e.css({position:"fixed",top:0}),o.size()>0&&o.offset().top<n-t){var a=n-o-t;e.css({position:"fixed",top:-a})}})})}}),define("util/bossPost",[],function(){var e=document.cookie.match(new RegExp("(^|)o_cookie=([^;]*)(;|$)")),t=null==e?"":unescape(e[2]),i=function(e){return function(i){e.iQQ=t,$.extend(e,i),new Image(1,1).src="//btrace.qq.com/kvcollect?"+$.param(e)}};return{boss:i,boss2619:i({BossId:"2619",Pwd:"0",sIp:"",sDomain:window.location.hostname||"",sUrl:window.location.href||"",sRef:window.document.referrer||"",vid:"",_dc:Math.random()})}}),define("util/inview",[],function(){function e(e){if(0!=e.length){var t=$(window).scrollTop(),i=e.offset().top,o=$(window).height(),n=[t,t+o],a=[i,i+e.height()];return Math.max(n[0],a[0])<Math.min(n[1],a[1])}}return{once:function(t,i){function o(){e(t)&&!n&&(i(),$(window).off("scroll",o),n=!0)}var n=!1;$(window).scroll(o),o()},inView:e}}),define("common/vrecommend",["../util/boss","../util/bossPost","../util/inview","../util/bossIRS"],function(e,t,i,o){function n(t,n){var c="";$.each(n,function(e,t){var i=e>7?'style="display:none"':"";1==t.pac_type||0==t.art_type?c+=a(t,i,e+1):2!=t.pac_type&&2!=t.art_type||(c+=s(t,i,e+1))}),n.length>7&&(c+='<div class="pub-recommend-more">加载更多</div>'),t.html(c);var l=r();t.find(".pub-recommend-more").on("click",l.loadMore),t.find(".pub-recommend-li a").on("click",function(e){var t=$(this).attr("data-n"),i=$(this).attr("href"),n=$(this).attr("data-vid")||"";t&&o.rq({sOp:"recommend"+t,targetUrlAdd:i,vid:n})}),i.once(t,function(){e.exposure(1604,"Recommendro"),o.rq("Recommend_por")})}function a(e,t,i){var o="",n="";if(e.img){var a=e.img.replace(/^http[s]*:/,"");n='<a href="'+e.url+'" class="picture" target="_blank"><img src="'+a+'"></a>'}return o+='<li class="pub-recommend-li" '+t+">"+n+'<div class="cont"><h3><a data-n="'+i+'" href="'+e.url+'" target="_blank">'+e.title+'</a></h3><div class="time">'+e.dateline+"</div></div></li>"}function s(e,t,i){var o="";e.tag&&$.each(e.tag,function(e,t){if(e>3)return!1;o+="<span>"+t+"</span>"});var n=function(e){var t="",i=e/3600|0,o=(e-3600*i)/60|0,n=e-3600*i-60*o;return 0!=i&&(t+=i+"h"),0!=o&&(t+=o+"&prime;"),t+=n+"&Prime;"}(e.duration),a=e.vurl,s=1==e.xh_flag?"xh_flag":" ",r="<p>时长 "+n+" &nbsp;&nbsp;&nbsp;&nbsp; 播放量："+e.view_all_count+"</p> ",c=e.imgurl_226?'<div class="picture"><a data-vid="'+e.id+'" data-n="'+i+'" href="'+a+'" target="_blank"><div class="play"></div><img style="width: auto;height: 100%;margin-left: -20px;" src="'+e.imgurl_226.replace(/^http[s]*:/,"")+'"/></a></div>':"";return'<li  class="pub-recommend-li" '+t+'> <div class="videobox0" bosszone="Recommend_v" articleType="'+s+'" data-vid="'+e.id+'"> '+c+'<div class="cont"> <h3><a data-n="'+i+'" data-vid="'+e.id+'" href="'+a+'" target="_blank">'+e.title+"</a></h3> "+r+'<div class="sandTag">'+e.type_name+o+'</div> </div> </div> <div class="videobox1"><div class="videoclose"></div><h2>'+e.title+'</h2> <div class="info"> '+r+' <div class="sandTag">'+e.type_name+o+"</div> </div> </div></li>"}function r(){var e=1;return{loadMore:function(t){3==++e&&$(this).hide();var i=7*e;$(this).parent().find("li:lt("+i+")").show()}}}return n}),requirejs.config({baseUrl:"js"}),require(["common"]),requirejs(["require","util/boss","common/zhibotai","common/sportsLogin","common/lastAdFixed","sports_isocce/hotVideo","sports_isocce/ranking","sports_isocce/schedule"],function(e){var t=e("sports_isocce/ranking"),i=e("util/boss"),o=e("common/zhibotai"),n=e("common/lastAdFixed");i.exposure(1604,"guojizuqiunew","dc");var a={xijia:{txt:"西甲",link:"http://sports.qq.com/laliga/"},yingc:{txt:"英超",link:"http://sports.qq.com/premierleague/"},yijia:{txt:"意甲",link:"http://sports.qq.com/seriea/"},dejia:{txt:"德甲",link:"http://sports.qq.com/bundesliga/"}};t.init(a);var s=ARTICLE_INFO.sub_nav;a[s]&&$("#thistype").text(a[s].txt).attr("href",a[s].link),window.zhibotai=new o("tvMerge",4,{num:21,otherMod:"videoModBJ",otherTit:"热门视频",otherClass:"mergeMod"}),n("taobaoADJS")}),require(["public/leftList"],function(e){e("football",function(e){$("#hotChoice").show(),$('[data-node="list"]',"#hotChoice").html(e.html)})}),require(["public/fixed"],function(e){e()}),require(["common/vrecommend"],function(e){$.ajax("//pacaio.match.qq.com/pc/rcdNews",{data:{site:"football",num:21},dataType:"jsonp"}).done(function(t){0===t.code&&e($("#omRecommend"),t.data)})}),define("sports_isocce.js",function(){});

/*------------Modifier: < TANGENTGUO-MC1 > 2018-5-17 15:01:03------------*/

/*  |xGv00|c0b684071e81a1d718da567fdd202ed1 */